(()=>{"use strict";class t extends HTMLElement{constructor(){super(),this.videoElement=void 0,this.canvasElement=void 0,this.canvasCtx=void 0,this.drawingUtils=window}render(){let t=this.template();this.innerHTML=t,this.videoElement=this.querySelector(".input"),this.canvasElement=this.querySelector(".output"),this.canvasCtx=this.canvasElement.getContext("2d"),this.detection()}template(){return'<video class="input"></video>\n        <canvas class="output" width="1280px" height="720px"></canvas>'}onResults(t){this.canvasCtx.save(),this.canvasCtx.clearRect(0,0,this.canvasElement.width,this.canvasElement.height),this.canvasCtx.drawImage(t.image,0,0,this.canvasElement.width,this.canvasElement.height),t.detections.length>0&&(this.drawingUtils.drawRectangle(this.canvasCtx,t.detections[0].boundingBox,{color:"blue",lineWidth:4,fillColor:"#00000000"}),this.drawingUtils.drawLandmarks(this.canvasCtx,t.detections[0].landmarks,{color:"red",radius:5})),this.canvasCtx.restore()}detection(){const t=new FaceDetection({locateFile:t=>`https://cdn.jsdelivr.net/npm/@mediapipe/face_detection/${t}`});t.setOptions({model:"short",minDetectionConfidence:.5}),t.onResults(this.onResults.bind(this)),new Camera(this.videoElement,{onFrame:async()=>{await t.send({image:this.videoElement})},width:1280,height:720}).start()}connectedCallback(){this.render()}}customElements.define("face-detection",t)})();